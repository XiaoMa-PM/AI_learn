# Agent设计模式与工程化
---
**吕昭波**
Datawhale成员，AI架构师，MumuLab创始人
直播时间：2025/09/16
学习时间：2025/09/23
**Abstract**
提供Agent/AI的工程化要点
目的是实现“规模化”+“标准化”展开工程工作

AI智能客服案例（用案例切入今天主题），说明此类流程的全封装成模版进行不同业务套用的作用性。
可以基于一个智能客服--拓展-->迎新Ai小助手
核心逻辑就是把一个落地场景agent进行logic-Abstract成一个可复现的东西
如同常见的开发23模式套用。
现在大概可以抽象的要点：
- 安全护栏法则
- 对话类
- RAG类
![](inbox/Pasted%20image%2020250923223704.png)

提出框架设计框架需要从下面三个点切入去看待

## 一、3大核心能力：
---
Planning·Tool-use·Miming
模型的三个能力
![](inbox/Pasted%20image%2020250923235915.png)
- Planning：解决批量、todo list、项目计划管理
- Miming：个性化推荐（类比数据挖掘）、RAG
- Tool-Use：工具想象（拓展边界）

三个维度后，我们如何重构体系去定位应用场景和批量化场景？
![](inbox/Pasted%20image%2020250924000131.png)
选择“传统场景”+“新技术”，更容易实现“模版化”和“规模化”
模版：
- 批量生成图文
- chabot/知识库->智能助手
- AI新交互突破创新和能力限制

## 二、6资源维度：
---
数据·模型·工具·算力·场景·组织
有了规则--3个Ai能力-->模版-->资源层面了

评估成本适度思考资源，这涉及到企业资产层面

Module1:模型服务
- 选用本地部署、还是云调用
- 要配置多少种类型模型与服务
- 选、调、评、用

Module2:数据
- 数据集--微调、精调、评估
- 数据库--传统数据库概念
- 知识库--用于RAG，由于文档组成--用于扩大LLM组成

Module3:工具tools
插件、工具流、API/MCP、代码片段
Tool如何编排？采用串联or？

Module4:Prompt/上下文context
如何团队内部高度共享使用

Module5:场景（业务流程理解与疏离）
Chatbot
-->飞书/企业微信/顶顶
-->OA/CRM

Module6:算力
- 云/本地的选择
- 场景影响/成本影响

## 三、6架构维度：
---
开发·评估·部署·安全·观测·治理
目的是可控、可解释、可改进的卓越架构，去思考着几个点部署
Pillar1:开发
![](inbox/Pasted%20image%2020250924001218.png)

Pillar2:评估
LLM、API、插件、设施、数据、服务等评估
确保全线高度可用
![](inbox/Pasted%20image%2020250924001227.png)

Pillar3:部署
![](inbox/Pasted%20image%2020250924001239.png)

Pillar4:安全、合规
生成内容的拦截Safe
![](inbox/Pasted%20image%2020250924001300.png)

Pillar5:可观测
可感知
![](inbox/Pasted%20image%2020250924001312.png)

Pillar6:治理
理解为工具维度和模型维护更新
![](inbox/Pasted%20image%2020250924001321.png)

## 四、Agentic思维升级
---
通过架构画布进阶Agentic架构师
![](inbox/Pasted%20image%2020250924001333.png)
![](inbox/Pasted%20image%2020250924001512.png)

可以考虑选几种目前常见的Agent去尝试将其架构画布填写，或者做自己的目标Agent填写：

![](inbox/Pasted%20image%2020250924001524.png)
![](inbox/Pasted%20image%2020250924001533.png)

几个示例
![](inbox/Pasted%20image%2020250924001545.png)
![](inbox/Pasted%20image%2020250924001603.png)
![](inbox/Pasted%20image%2020250924001626.png)
![](inbox/Pasted%20image%2020250924001634.png)
![](inbox/Pasted%20image%2020250924001706.png)
学习路径--学会去做分享，自己错误的经验和成功的经验都是值得分享

## Q&A
**1. 数据质量解决思路是什么？**
- 该工作属于工作量、难度最大的环节
- 拿多少数据，先用多少，做个demo给客户、验证效果
- 数据质量优化
	- 爬取->转化清洗->切片->切分
	- 使用反馈->优化
	- 再获取

**2. 企业的场景定制化能力，该如何去实现？**
- 从企业应用场景不同角度出去，去做切入
- 从原有流程中插入AI，进行应用AI定制化

插入：
- 与客户交流交付的东西：
	- 应该是讲用了什么Agent一起串联一起，实现了什么样的业务流程
	- 不建议是自己的agent讲过于细节如：prompt的东西

**3. AI幻觉，在工程化中如何控制？**
AI幻觉从LLM层面是因为其本质概率生成文本导致的，所以很难解决。我们绕开LLM层面解决，我们可以设置safe拦截，通过一个Agent check to Agent（生成），进行生成拦截。这可以让AI更好工程化
- Safe拦截
- RAG
- Agent check
- human check

**5. 具体场景，数据分析场景，手头上MCP工具多，计算能力有局限性问题如何解决？**
- 项目切分，不一定非要all in one

**6. 设计模式框架Agent工程化落地，在架构师眼中什么更加重要？**
- 场景切入点不准确，是否能够解决业务问题？
- 人员认知无法对齐，这是一线中带来的压力